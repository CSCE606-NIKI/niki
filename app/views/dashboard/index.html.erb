
<!DOCTYPE html>
<html lang="en">
<style>

.credit-table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 20px;
}

.credit-table th, .credit-table td {
  border: 1px solid #ddd;
  padding: 8px;
  text-align: left;
}

.credit-table th {
  background-color: #f2f2f2;
}

.credit-table tr:nth-child(even) {
  background-color: #f2f2f2;
}

.credit-table tr:hover {
  background-color: #ddd;
}
</style>

<!-- Main Dashboard-->
<div class="container mt-5">
    <h1>Welcome to the Dashboard</h1>
    
    <h2>Summary Credits</h2>
    <table class="styled-table">
    <thead>
        <tr>
            <th>Credit Type</th>
            <th>Total Credits</th>
        </tr>
    </thead>
    <tbody>
        <% @credit_totals.each do |credit_type, total_credits| %>
        <tr>
            <td><%= credit_type %></td>
            <td><%= total_credits %></td>
        </tr>
        <% end %>
    </tbody>
    </table>

    <br/>
    <hr/>
    
    <div>
    <div style="float:left"><h3>Credit List</h3></div>
    <div style="float:right"><button id="reset_button" class="btn btn-secondary">Reset filters</button></div>
    </div> 
    <table class="styled-table" id="credit_table">
    <thead>
        <tr>
        <th>
          Credit Type <br>
          <input list="filter_credit_types" id="filter_credit_type" name="Filter Credit Type" type="text" >
          <datalist id="filter_credit_types">  
            <% @credit_types.each do |credit_type| %>
              <option value="<%= credit_type %>">
            <% end %>
          </datalist>
        </th>
        <th> 
          Date <br> 
          <span style="font-weight:normal">
          <nobr>
          from<input type="date" id="start" name="Filter Start Date"/>
          to<input type="date" id="end" value="" name="Filter End Date"/>
          </nobr>
          </span>
        </th>
        <th>
          Amount <br>
          <input id="filter_amount" name="Filter Amount" type="number" size="15">
        </th>
        <th>
          Description <br>
          <input id="filter_description" name="Filter Description" type="text">
        </th>
        <th>
          Actions
          <br> <br>
        </th>
        </tr>
    </thead>
    <tbody>
        <% @credits.each do |credit| %>
        <tr class="credit-table">
            <td><%= credit.credit_type %></td>
            <td><%= credit.date %></td>
            <td><%= credit.amount %></td>
            <td style="max-width: 400px; word-wrap: break-word;"><%= credit.description %></td>
            <td>
              <%= link_to "Show this credit", credit %>
            </td>
        </tr>
        <% end %>
    </tbody>
    </table>
    <br>
    <div style="text-align: center;">
      <%= link_to "New credit", new_credit_path, class: "btn btn-primary"%>
    </div>



    
</div>

 <%= javascript_include_tag "application", "data-turbo-track": "reload", defer: true %> 
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

</body>
</html>